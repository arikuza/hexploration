# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

## –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–ø—Ä–∞–π—Ç—ã –∫–æ—Ä–∞–±–ª–µ–π

–í –∏–≥—Ä—É –¥–æ–±–∞–≤–ª–µ–Ω—ã 4 —Å–ø—Ä–∞–π—Ç–∞ —Ñ—Ä–µ–≥–∞—Ç–æ–≤:
- **–°–∏–Ω–∏–π —Ñ—Ä–µ–≥–∞—Ç** (Scout) - —Ä–∞–∑–≤–µ–¥—á–∏–∫, –±—ã—Å—Ç—Ä—ã–π –∏ –º–∞–Ω–µ–≤—Ä–µ–Ω–Ω—ã–π
- **–ó–µ–ª–µ–Ω—ã–π/–∂–µ–ª—Ç—ã–π —Ñ—Ä–µ–≥–∞—Ç** (Fighter) - –∏—Å—Ç—Ä–µ–±–∏—Ç–µ–ª—å, —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
- **–§–∏–æ–ª–µ—Ç–æ–≤—ã–π —Å –∫—Ä–∞—Å–Ω—ã–º–∏ —É–∑–æ—Ä–∞–º–∏** (Corvette) - –∫–æ—Ä–≤–µ—Ç, –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π
- **–†–∂–∞–≤—ã–π/–∫–æ—Ä–∏—á–Ω–µ–≤—ã–π** (Frigate) - —Ñ—Ä–µ–≥–∞—Ç, —Ç—è–∂–µ–ª—ã–π –±–æ–µ–≤–æ–π

–°–ø—Ä–∞–π—Ç—ã —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤: `client/public/assets/ships/frigates.png`

## –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥–≤—É–º—è –±—Ä–∞—É–∑–µ—Ä–∞–º–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É**:
   ```bash
   npm run dev  # –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ
   ```

2. **–û—Ç–∫—Ä—ã—Ç—å –¥–≤–∞ –æ–∫–Ω–∞ –±—Ä–∞—É–∑–µ—Ä–∞**:
   - –û–∫–Ω–æ 1: `http://localhost:5173` - –ò–≥—Ä–æ–∫ "alice"
   - –û–∫–Ω–æ 2: –†–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ `http://localhost:5173` - –ò–≥—Ä–æ–∫ "bob"

3. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–≤—É—Ö –∏–≥—Ä–æ–∫–æ–≤**:
   - –í –ø–µ—Ä–≤–æ–º –æ–∫–Ω–µ: –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∫–∞–∫ "alice" / "pass123"
   - –í–æ –≤—Ç–æ—Ä–æ–º –æ–∫–Ω–µ: –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∫–∞–∫ "bob" / "pass123"

4. **–ù–∞—á–∞—Ç—å –±–æ–π**:
   - –í —Å–ø–∏—Å–∫–µ –∏–≥—Ä–æ–∫–æ–≤ —Å–ø—Ä–∞–≤–∞ –Ω–∞–π–¥–∏—Ç–µ –¥—Ä—É–≥–æ–≥–æ –∏–≥—Ä–æ–∫–∞
   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ‚öîÔ∏è —Ä—è–¥–æ–º —Å –∏–º–µ–Ω–µ–º –∏–≥—Ä–æ–∫–∞
   - –û–±–∞ –∏–≥—Ä–æ–∫–∞ –±—É–¥—É—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –≤ –±–æ–µ–≤–æ–π —Ä–µ–∂–∏–º

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)

1. **–û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞** (F12)

2. **–ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –±–æ–π –≤—Ä—É—á–Ω—É—é**:
   ```javascript
   // –ü–æ–ª—É—á–∏—Ç—å ID –¥—Ä—É–≥–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –∏–∑ Redux store
   const state = window.store.getState();
   const otherPlayer = state.player.players.find(p => p.id !== state.player.currentPlayer.id);
   
   // –ù–∞—á–∞—Ç—å –±–æ–π
   const socket = window.socketService.socket;
   socket.emit('combat:start', { targetPlayerId: otherPlayer.id });
   ```

3. **–°–ª—É—à–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –±–æ—è**:
   ```javascript
   socket.on('combat:started', (data) => {
     console.log('‚öîÔ∏è –ë–æ–π –Ω–∞—á–∞–ª—Å—è!', data.combat);
   });

   socket.on('combat:update', (data) => {
     console.log('üìä –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—è:', data.combat);
   });

   socket.on('combat:ended', (data) => {
     console.log('üèÜ –ë–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω! –ü–æ–±–µ–¥–∏—Ç–µ–ª—å:', data.winner);
   });
   ```

4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –±–æ—é** (–ø–æ–∫–∞ UI –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω):
   ```javascript
   const combatId = 'your-combat-id'; // –ò–∑ console.log –≤—ã—à–µ

   // –¢—è–≥–∞ –≤–ø–µ—Ä–µ–¥
   socket.emit('combat:action', {
     combatId,
     action: 'thrust',
     value: 1
   });

   // –ü–æ–≤–æ—Ä–æ—Ç –≤–ª–µ–≤–æ
   socket.emit('combat:action', {
     combatId,
     action: 'turn',
     value: -0.1
   });

   // –í—ã—Å—Ç—Ä–µ–ª (–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –æ—Ä—É–∂–∏–µ)
   socket.emit('combat:action', {
     combatId,
     action: 'fire',
     weaponId: 'weapon-id'
   });
   ```

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
- –°–ø—Ä–∞–π—Ç—ã –∫–æ—Ä–∞–±–ª–µ–π –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –≥–µ–∫—Å–∞–≥–æ–Ω–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç–µ
- –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–æ—è (—Ñ–∏–∑–∏–∫–∞, –∫–æ–ª–ª–∏–∑–∏–∏, —Å–Ω–∞—Ä—è–¥—ã)
- Socket.io —Å–æ–±—ã—Ç–∏—è –¥–ª—è –Ω–∞—á–∞–ª–∞ –±–æ—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ö–Ω–æ–ø–∫–∞ –∞—Ç–∞–∫–∏ –≤ —Å–ø–∏—Å–∫–µ –∏–≥—Ä–æ–∫–æ–≤
- –¢–∞–π–º–µ—Ä—ã –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è (15 —Å–µ–∫—É–Ω–¥)

‚è≥ **TODO** (–¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –±–æ–µ–≤–∫–∏):
- UI –±–æ–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∞—Ä–µ–Ω—ã
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–Ω–∞—Ä—è–¥–æ–≤ –∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (WASD, –ø—Ä–æ–±–µ–ª –¥–ª—è —Å—Ç—Ä–µ–ª—å–±—ã)
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–¥–æ—Ä–æ–≤—å—è –∏ —ç–Ω–µ—Ä–≥–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ä—É–∂–∏—è –∫–æ—Ä–∞–±–ª—è–º (—Å–µ–π—á–∞—Å –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤)
- –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–æ–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

1. **–°–µ—Ä–≤–µ—Ä** (`server/src/game/CombatSystem.ts`):
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –±–æ—è
   - –§–∏–∑–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è –∫–æ—Ä–∞–±–ª–µ–π (Star Control style)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–ª–ª–∏–∑–∏–π —Å–Ω–∞—Ä—è–¥–æ–≤
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ 60 FPS

2. **Socket —Å–æ–±—ã—Ç–∏—è**:
   - `combat:start` - –Ω–∞—á–∞—Ç—å –±–æ–π
   - `combat:started` - –±–æ–π –Ω–∞—á–∞–ª—Å—è (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –æ–±–æ–∏–º –∏–≥—Ä–æ–∫–∞–º)
   - `combat:update` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (60 FPS)
   - `combat:action` - –¥–µ–π—Å—Ç–≤–∏–µ –∏–≥—Ä–æ–∫–∞ (—Ç—è–≥–∞, –ø–æ–≤–æ—Ä–æ—Ç, –≤—ã—Å—Ç—Ä–µ–ª)
   - `combat:ended` - –±–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω

3. **–ö–ª–∏–µ–Ω—Ç**:
   - –°–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∞—Ç–∞–∫–∏
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø—Ä–∞–π—Ç–æ–≤ –∫–æ—Ä–∞–±–ª–µ–π
   - (TODO) –ë–æ–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
tail -f ~/.cursor/projects/home-arikuza-hexploration/terminals/*.txt | grep "‚öîÔ∏è"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä
cd server && npm run dev

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Socket.io –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
# –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
window.socketService.socket.connected  // –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å true
```

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

**Q: –ù–µ –≤–∏–∂—É –¥—Ä—É–≥–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –≤ —Å–ø–∏—Å–∫–µ**
A: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–±–∞ –∏–≥—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –æ–¥–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É (localhost:3050) –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏.

**Q: –ö–Ω–æ–ø–∫–∞ –∞—Ç–∞–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Socket.io –ø–æ–¥–∫–ª—é—á–µ–Ω.

**Q: –ë–æ–π –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è**
A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞. –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.
